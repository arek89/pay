"use strict";var $=function(t){return document.querySelector(t)},isValidCCNumber=function(t){for(var r=(t=(t=t.toString()).replace(/\s/g,"")).length,n=void 0,e=!0,a=0;a<r;a++)n=""+t.substring(a,a+1),-1==="0123456789".indexOf(n)&&(e=!1);return!!e&&(0!==r&&(!(19<r)&&!(r<12)))},isValid=function(){var t=!0,r=new Date,n=r.getMonth(),e=r.getFullYear();return $("#cardHolderName").checkValidity()?$("#cardHolderName").classList.remove("wrong"):($("#cardHolderName").classList.add("wrong"),t=!1),isValidCCNumber($("#cardNumber").value)?$("#cardNumber").classList.remove("wrong"):($("#cardNumber").classList.add("wrong"),t=!1),!($("#month").value<=n)&&$("#month").checkValidity()||$("#year").value!=e&&$("#year").checkValidity()?($("#month").classList.remove("wrong"),$("#year").classList.remove("wrong")):($("#month").classList.add("wrong"),$("#year").classList.add("wrong"),t=!1),$("#cvv").checkValidity()?$("#cvv").classList.remove("wrong"):($("#cvv").classList.add("wrong"),t=!1),t},onSubmit=function(){isValid()&&console.log("submit")},findGetParameter=function(t){for(var r=null,n=location.search.substr(1).split("&"),e=0;e<n.length;e++)if(0===(n[e]+"=").indexOf(t)){r=decodeURIComponent(n[e].slice(t.length+1));break}return r},url="https://survivalapexshop.com/shop/cart/displayMiniCartByCode?shoppingCartCode="+findGetParameter("shoppingCartCode");fetch(url,{method:"GET"}).then(function(t){return t.json()},function(t){console.log(t)}).then(function(t){displayProducts(t.shoppingCartItems),sumUpQuantity(t.shoppingCartItems),sumUpPrices(t.shoppingCartItems)});var displayProducts=function(t){t.forEach(function(t){var r=$(".product-wrapper"),n=document.createElement("div");n.className="row product",n.innerHTML='\n            <div class="col-6">\n                <div class="product-img-wrapper text-center">\n                    <img src="'+t.image+'" class="product-image" alt="product-image">\n                </div>\n            </div>\n            <div class="col-6 product-description">\n                <p class="price"><strong>'+t.price+'</strong></p>\n                <p class="description">'+t.name+'</p>\n                <p class="quantity">Qty: <strong>'+t.quantity+"</strong></p>\n            </div>",r.appendChild(n)})},sumUpQuantity=function(t){var r=t.map(function(t){return t.quantity}).reduce(function(t,r){return t+r});$(".products-amount").innerHTML=r+" "+(1<r?"Items":"Item")},sumUpPrices=function(t){var r=t.map(function(t){return t.productPrice}).reduce(function(t,r){return t+r});$(".total-pay").innerHTML="$"+r};